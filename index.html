<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>üê£ Eggzee Interactive</title>

    <!-- ‚úÖ Embed p5.js (local-safe) -->
    <script>
      /*! Minimal embedded p5.js loader */
      const p5script = document.createElement("script");
      p5script.src = "https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.min.js";
      document.head.appendChild(p5script);
    </script>

    <!-- ‚úÖ Failsafe p5.play inline -->
    <script>
      window.addEventListener("load", () => {
        const waitForP5 = setInterval(() => {
          if (typeof window.p5 === "undefined") return;
          clearInterval(waitForP5);
          const p = window.p5;
          console.log("‚úÖ p5 detected, enabling internal p5.play fallback");

          // ---- Minimal p5.play fallback ----
          p.prototype.Sprite = function (x, y, w, h) {
            this.position = p.prototype.createVector(x || 0, y || 0);
            this.width = w || 50;
            this.height = h || 50;
            this.rotation = 0;
            this.visible = true;
            this.scale = 1;
            this.velocity = p.prototype.createVector(0, 0);
            this.addImage = () => {};
            this.changeImage = () => {};
          };

          p.prototype.createSprite = function (x, y, w, h) {
            const s = new p.prototype.Sprite(x, y, w, h);
            if (!this.allSprites) this.allSprites = [];
            this.allSprites.push(s);
            return s;
          };

          p.prototype.drawSprites = function () {
            if (!this.allSprites) return;
            for (let s of this.allSprites) {
              if (s.visible) {
                p.prototype.push();
                p.prototype.translate(s.position.x, s.position.y);
                p.prototype.rotate(p.prototype.radians(s.rotation));
                p.prototype.noStroke();
                p.prototype.fill(255);
                p.prototype.rectMode(p.prototype.CENTER);
                p.prototype.rect(0, 0, s.width * s.scale, s.height * s.scale);
                p.prototype.pop();
              }
            }
          };

          // ---- load main sketch after fallback ready ----
          const main = document.createElement("script");
          main.src = "sketch.js";
          document.body.appendChild(main);
        }, 100);
      });
    </script>

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
      }
      canvas {
        display: block;
      }
    </style>
  </head>

  <body></body>
</html>
